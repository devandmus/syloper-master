(self.webpackChunksyloper_front=self.webpackChunksyloper_front||[]).push([[529],{39483:function(e,t,n){var r=n(17854),a=n(4411),l=n(66330),o=r.TypeError;e.exports=function(e){if(a(e))return e;throw o(l(e)+" is not a constructor")}},70648:function(e,t,n){var r=n(17854),a=n(51694),l=n(60614),o=n(84326),i=n(5112)("toStringTag"),u=r.Object,c="Arguments"==o(function(){return arguments}());e.exports=a?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=u(e),i))?n:c?o(t):"Object"==(r=o(t))&&l(t.callee)?"Arguments":r}},4411:function(e,t,n){var r=n(1702),a=n(47293),l=n(60614),o=n(70648),i=n(35005),u=n(42788),c=function(){},s=[],m=i("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(c),h=function(e){if(!l(e))return!1;try{return m(c,s,e),!0}catch(t){return!1}},g=function(e){if(!l(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,u(e))}catch(t){return!0}};g.sham=!0,e.exports=!m||a((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?g:h},13366:function(e,t,n){var r=n(17854);e.exports=r.Promise},78523:function(e,t,n){"use strict";var r=n(19662),a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},69478:function(e,t,n){var r=n(19670),a=n(70111),l=n(78523);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=l.f(e);return(0,n.resolve)(t),n.promise}},36707:function(e,t,n){var r=n(19670),a=n(39483),l=n(5112)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[l])?t:a(n)}},51694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},17727:function(e,t,n){"use strict";var r=n(82109),a=n(31913),l=n(13366),o=n(47293),i=n(35005),u=n(60614),c=n(36707),s=n(69478),m=n(31320);if(r({target:"Promise",proto:!0,real:!0,forced:!!l&&o((function(){l.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,i("Promise")),n=u(e);return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}}),!a&&u(l)){var f=i("Promise").prototype.finally;l.prototype.finally!==f&&m(l.prototype,"finally",f,{unsafe:!0})}},20698:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=n(43587).default.div.withConfig({displayName:"styles__SectionTitle",componentId:"sc-5uavjb-0"})(["width:100%;display:flex;align-items:center;margin-bottom:12px;&.task-title{justify-content:space-between;h5{display:inline-block;}button{width:200px;font-size:1.17rem;}}@media only screen and (max-width:768px){justify-content:center;}i{margin-right:5px;}h5{font-size:1.2rem;font-weight:600;}"])},41357:function(e,t,n){"use strict";var r=n(43587).default.table.withConfig({displayName:"styles__TableBody",componentId:"sc-1iqh43b-0"})(["width:100%;background-color:#fff;text-align:center;border-radius:15px;margin-top:20px;overflow-x:scroll;tr{text-align:center;border-bottom:1px solid;border-color:",";&:last-child{border:none;}}th{font-size:1.2rem;font-weight:500;padding:21px 10px;@media only screen and (max-width:1000px){font-size:1.05rem;}}td{text-align:center;width:200px;padding:18px 8px;font-size:1.02rem;img{height:48px;border-radius:24px;}@media only screen and (max-width:1000px){font-size:1rem;}}"],(function(e){return e.theme.color.border}));t.Z=r},52469:function(e,t,n){"use strict";var r=n(75900),a=n.n(r),l=n(67294),o=n(26199),i=n(90584),u=n(28029),c=n(69742);t.Z=function(e){var t=e.title,n=e.message,r=(0,l.useContext)(c.Z),s=r.setModalMessageIsOpen,m=r.modalMessageIsOpen,f=function(){s(!1)};return l.createElement(l.Fragment,null,l.createElement(u.RR,{className:a()({show:m})},l.createElement("i",{onClick:f},l.createElement(o.Lp2,{color:"#000",size:"35px"})),l.createElement("h3",null,t),l.createElement(u.Yr,null,l.createElement("h4",null,n),l.createElement(i.Z,{type:"button",onClick:f},"Close"))),l.createElement(u.An,{className:a()({show:m})}))}},23439:function(e,t,n){"use strict";n.d(t,{Px:function(){return l},jN:function(){return a}});var r=n(43587),a=r.default.span.withConfig({displayName:"styles__AssignImg",componentId:"sc-17g2g8d-0"})(["width:45px;height:45px;alt:","};"," background-size:cover;border:1px solid #fff;border-radius:50%;display:block;"],(function(e){return e.alt}),(function(e){var t=e.src;return t?"background-image: url("+t+");":"background-color: gray;"})),l=r.default.div.withConfig({displayName:"styles__AvatarStyled",componentId:"sc-17g2g8d-1"})(["width:45px;height:45px;display:inline-block;transform:",";background-color:gray;border:1px solid #fff;border-radius:50%;"],(function(e){return"translateX("+e.translatex+"px)"}));r.default.span.withConfig({displayName:"styles__DisplayName",componentId:"sc-17g2g8d-2"})(["width:100%;font-weight:300;font-size:1.08rem;line-height:1.35;"]),r.default.div.withConfig({displayName:"styles__AvatarGroup",componentId:"sc-17g2g8d-3"})(["display:flex;align-items:center;flex-direction:column;justify-content:center;"])},50275:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(67294),a=n(1345),l=n(43587),o=l.default.article.withConfig({displayName:"style__ResponsiblesMain",componentId:"sc-nearvw-0"})(["width:100%;height:calc(100% - 100px);overflow-x:hidden;"]),i=n(42982),u=n(67244),c=n(23201),s=n(3322),m=n(41357),f=n(20698),d=n(90584),p=n(10654),h=n(69742),g=(n(17727),n(75900)),y=n.n(g),E=n(26199),v=n(84245),b=n(28029),x=function(e){var t=e.title,n=e.modalOnSubmit,a=(0,r.useContext)(h.Z),l=a.setModalPeopleIsOpen,o=a.modalPeopleIsOpen,i=(0,r.useState)(!1),u=i[0],c=i[1],s=(0,r.useState)(""),m=(s[0],s[1]),f=(0,r.useState)({name:"",email:"",password:"",avatar:""}),g=f[0],x=f[1];function w(){m("")}var C=g.avatar.length>0;return r.createElement(r.Fragment,null,r.createElement(b.F0,{className:y()({show:o})},r.createElement("i",{onClick:function(){l(!1)}},r.createElement(E.Lp2,{color:"#000",size:"35px"})),r.createElement("h3",null,t),u?"Sending data":r.createElement(b.Yr,null,r.createElement("div",null,r.createElement("label",null,t+" Name"),r.createElement(v.l_,{value:g.name,onChange:function(e){return function(e){var t={name:e.target.value};x(Object.assign({},g,t)),w()}(e)},placeholder:"Enter "+t+" Name"})),r.createElement("div",null,r.createElement("label",null,"Email"),r.createElement(v.l_,{value:g.email,onChange:function(e){return function(e){var t={email:e.target.value};x(Object.assign({},g,t)),w()}(e)},placeholder:"Enter Email"})),r.createElement("div",null,r.createElement("label",null,"Password"),r.createElement(v.l_,{type:"password",value:g.password,onChange:function(e){return function(e){var t={password:e.target.value};x(Object.assign({},g,t)),w()}(e)},placeholder:"Enter Password"})),r.createElement("div",null,r.createElement("label",null,"Avatar"),r.createElement(v.KU,{htmlFor:"avatar"},r.createElement("div",null,C?"Done!":"Click here to upload an avatar"),r.createElement("input",{id:"avatar",type:"file",onChange:function(e){return function(e){var t=e.target.files[0];return w(),new Promise((function(e,n){try{var r=new FileReader;r.readAsDataURL(t),r.onload=function(){var t=r.result;x(Object.assign({},g,{avatar:t})),e()}}catch(a){n(a)}}))}(e)}}))),r.createElement(d.Z,{type:"button",onClick:function(e){e.preventDefault(),c(!0),p.Z.createUser(g).then((function(){l(!1),n(g),window.location.reload()})).catch((function(e){m(e.message)})).finally((function(){c(!1)}))}},"Create Person"))),r.createElement(b.An,{className:y()({show:o})}))},w=n(23439),C=function(){var e=(0,l.useTheme)(),t=(0,r.useState)([]),n=t[0],a=t[1],o=(0,r.useContext)(h.Z).setModalPeopleIsOpen,g=(0,r.useContext)(h.Z).setModalAvatarIsOpen;(0,r.useEffect)((function(){p.Z.getUsers().then((function(e){a(e)}))}),[]);var y=function(e,t){var r=Object.assign({},n.find((function(t){return t.id===e})),t);p.Z.updateUser(e,r)},E=function(e){var t=e.name,n=e.value;n!==e.previousValue&&y(t,{email:n})},v=function(e){var t=e.name,n=e.value;n!==e.previousValue&&y(t,{name:n})};return r.createElement(r.Fragment,null,r.createElement(f.N,{className:"task-title"},r.createElement("div",null,r.createElement("i",null,r.createElement(u.ybL,null)),r.createElement("h5",null,"People")),r.createElement(d.Z,{onClick:function(){return o(!0)}},"Add People")),r.createElement(m.Z,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Avatar"),r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null))),r.createElement("tbody",null,n.map((function(t){return r.createElement("tr",{key:t.email},r.createElement("td",{style:{textAlign:"center",width:"200px"}},r.createElement(w.jN,{src:t.avatar,onClick:g(!0),style:{cursor:"pointer"}})),r.createElement("td",{style:{textAlign:"center",width:"200px"}},r.createElement(s.y,{name:t.id,onChange:a,onSave:v,defaultValue:t.name,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:e.font.family}})),r.createElement("td",{style:{textAlign:"center",width:"200px"}},r.createElement(s.y,{name:t.id,onChange:a,onSave:E,defaultValue:t.email,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:e.font.family}})),r.createElement("td",null,r.createElement(c.AMf,{size:25,onClick:function(){return e=t.id,void p.Z.deleteUser(e).then(a(n.filter((function(t){return t.id!==e}))));var e},style:{cursor:"pointer"}})))})))),r.createElement(x,{title:"New Person",modalOnSubmit:function(e){var t=[];t.push.apply(t,(0,i.Z)(n).concat([e])),a(t),o(!1)}}))},Z=n(71255),S=function(e){var t=e.title,n=e.modalOnSubmit,a=(0,r.useContext)(h.Z),l=a.setModalRoleIsOpen,o=a.modalRoleIsOpen,i=(0,r.useState)(!1),u=i[0],c=i[1],s=(0,r.useState)(""),m=(s[0],s[1]),f=(0,r.useState)({name:"",hourlyCost:0}),p=f[0],g=f[1];function x(){m("")}return r.createElement(r.Fragment,null,r.createElement(b.F0,{className:y()({show:o})},r.createElement("i",{onClick:function(){l(!1)}},r.createElement(E.Lp2,{color:"#000",size:"35px"})),r.createElement("h3",null,t),u?"Sending data":r.createElement(b.Yr,null,r.createElement("div",null,r.createElement("label",null,t+" Name"),r.createElement(v.l_,{value:p.name,onChange:function(e){return function(e){var t={name:e.target.value};g(Object.assign({},p,t)),x()}(e)},placeholder:"Enter "+t+" Name"})),r.createElement("div",null,r.createElement("label",null,"Hourly Cost"),r.createElement(v.l_,{type:"number",value:p.hourlyCost,onChange:function(e){return function(e){var t={hourlyCost:e.target.value};g(Object.assign({},p,t)),x()}(e)},placeholder:"Enter hourly cost"})),r.createElement(d.Z,{type:"button",onClick:function(e){e.preventDefault(),c(!0),Z.Z.createResponsibleTypes({hourly_cost:p.hourlyCost,type:p.name}).then((function(){l(!1),n({hourly_cost:p.hourlyCost,type:p.name})})).catch((function(e){m(e.message)})).finally((function(){c(!1)}))}},"Create role"))),r.createElement(b.An,{className:y()({show:o})}))},N=n(8475),k=n(52469),O=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],a=(0,r.useContext)(h.Z).setModalRoleIsOpen,o=(0,r.useState)(""),p=o[0],g=o[1],y=(0,r.useContext)(h.Z).setModalMessageIsOpen;(0,r.useEffect)((function(){Z.Z.getResponsibles().then((function(e){n(e)}))}),[]);var E=function(e,n){var r=Object.assign({},t.find((function(t){return t.id===e})),n);Z.Z.updateResponsibleTypes(e,r)},v=function(e){var t=e.name,n=e.value;n!==e.previousValue&&E(t,{type:n})},b=function(e){var t=e.name,n=e.value;n!==e.previousValue&&E(t,{hourly_cost:n})},x=(0,l.useTheme)();return r.createElement(r.Fragment,null,r.createElement(f.N,{className:"task-title"},r.createElement("div",null,r.createElement("i",null,r.createElement(u.ybL,null)),r.createElement("h5",null,"Role & Cost")),r.createElement(d.Z,{onClick:function(){return a(!0)}},"Add Role")),r.createElement(m.Z,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Role"),r.createElement("th",null,"Hourly Cost"),r.createElement("th",null))),r.createElement("tbody",null,t.map((function(e){return r.createElement("tr",null,r.createElement("td",null,r.createElement(s.y,{name:e.id,onChange:n,onSave:v,defaultValue:e.type,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:x.font.family}})),r.createElement("td",null,r.createElement(s.y,{name:e.id,onChange:n,onSave:b,defaultValue:(0,N.V)(e.hourly_cost),style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:x.font.family}})),r.createElement("td",null,r.createElement(c.AMf,{onClick:function(){return r=e.id,void Z.Z.deleteResponsibleTypes(r).then((function(e){200===e.status?n(t.filter((function(e){return e.id!==r}))):423===e.status&&(y(!0),g("Can't remove it. There are tasks depending on it. Before remove it, you have to unassign them from the tasks."))}));var r},size:25,style:{cursor:"pointer"}})))})))),r.createElement(S,{title:"New Role",modalOnSubmit:function(e){var r=[];r.push.apply(r,(0,i.Z)(t).concat([e])),n(r),a(!1)}}),r.createElement(k.Z,{title:"Message",message:p}))},A=function(){return r.createElement(a.Z,{title:"Responsibles "},r.createElement(o,null,r.createElement(C,null),r.createElement(O,null)))},_=function(){return r.createElement(A,null)}},71255:function(e,t,n){"use strict";var r=n(1112);t.Z={getResponsibles:function(){return(0,r.Z)("/api/responsible-profile").then((function(e){return e.data}))},updateResponsibleTypes:function(e,t){return(0,r.Z)("/api/responsible-profile/update/"+e,{method:"PUT",data:t}).then((function(e){return e.data}))},getResponsibleTypesById:function(e){return(0,r.Z)("/api/responsible-profile/detail/"+e).then((function(e){return e.data}))},createResponsibleTypes:function(e){return(0,r.Z)("/api/responsible-profile/create",{method:"POST",data:e}).then((function(e){return e.data}))},deleteResponsibleTypes:function(e){return(0,r.Z)("/api/responsible-profile/delete/"+e,{method:"DELETE"}).then((function(e){return e}))}}},10654:function(e,t,n){"use strict";var r=n(1112);t.Z={getUsers:function(){return(0,r.Z)("/api/users").then((function(e){return e.data}))},getUserById:function(e){return(0,r.Z)("/api/users/detail/"+e).then((function(e){return e.data}))},createUser:function(e){return(0,r.Z)("/api/users/create",{method:"POST",data:e}).then((function(e){return e.data}))},updateUser:function(e,t){return(0,r.Z)("/api/users/update/"+e,{data:t,method:"PUT"}).then((function(e){return e.data}))},deleteUser:function(e){return(0,r.Z)("/api/users/delete/"+e,{method:"DELETE"}).then((function(e){return e.data}))}}},8475:function(e,t,n){"use strict";function r(e){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function a(e){return new Intl.NumberFormat("en-US").format(e)}n.d(t,{V:function(){return a},o:function(){return r}})}}]);
//# sourceMappingURL=component---src-pages-responsibles-js-ffc14bf5db7d70a243d8.js.map