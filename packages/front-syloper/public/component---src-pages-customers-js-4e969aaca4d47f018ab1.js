(self.webpackChunksyloper_front=self.webpackChunksyloper_front||[]).push([[331],{57988:function(e,t,n){var r=n(9859),a=n(82359),l=n(59821),o=r.TypeError;e.exports=function(e){if(a(e))return e;throw o(l(e)+" is not a constructor")}},81589:function(e,t,n){var r=n(9859),a=n(71601),l=n(26733),o=n(27079),u=n(70095)("toStringTag"),i=r.Object,c="Arguments"==o(function(){return arguments}());e.exports=a?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=i(e),u))?n:c?o(t):"Object"==(r=o(t))&&l(t.callee)?"Arguments":r}},82359:function(e,t,n){var r=n(65968),a=n(24229),l=n(26733),o=n(81589),u=n(31333),i=n(8511),c=function(){},s=[],m=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(c),h=function(e){if(!l(e))return!1;try{return m(c,s,e),!0}catch(t){return!1}},v=function(e){if(!l(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,i(e))}catch(t){return!0}};v.sham=!0,e.exports=!m||a((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?v:h},16485:function(e,t,n){"use strict";var r=n(77111),a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},74473:function(e,t,n){var r=n(9859);e.exports=r.Promise},62391:function(e,t,n){var r=n(21176),a=n(85052),l=n(16485);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=l.f(e);return(0,n.resolve)(t),n.promise}},37942:function(e,t,n){var r=n(21176),a=n(57988),l=n(70095)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[l])?t:a(n)}},71601:function(e,t,n){var r={};r[n(70095)("toStringTag")]="z",e.exports="[object z]"===String(r)},21515:function(e,t,n){"use strict";var r=n(23103),a=n(24231),l=n(74473),o=n(24229),u=n(31333),i=n(26733),c=n(37942),s=n(62391),m=n(14768),f=l&&l.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!l&&o((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,u("Promise")),n=i(e);return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}}),!a&&i(l)){var d=u("Promise").prototype.finally;f.finally!==d&&m(f,"finally",d,{unsafe:!0})}},21208:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=n(36875).default.div.withConfig({displayName:"styles__SectionTitle",componentId:"sc-5uavjb-0"})(["width:100%;display:flex;align-items:center;margin-bottom:12px;&.task-title{justify-content:space-between;h5{display:inline-block;}button{width:200px;font-size:1.17rem;}}@media only screen and (max-width:768px){justify-content:center;}i{margin-right:5px;}h5{font-size:1.2rem;font-weight:600;}"])},96608:function(e,t,n){"use strict";var r=n(36875).default.table.withConfig({displayName:"styles__TableBody",componentId:"sc-1iqh43b-0"})(["width:100%;background-color:#fff;text-align:center;border-radius:15px;margin-top:20px;overflow-x:scroll;tr{text-align:center;border-bottom:1px solid;border-color:",";&:last-child{border:none;}}th{font-size:1.2rem;font-weight:500;padding:21px 10px;@media only screen and (max-width:1000px){font-size:1.05rem;}}td{text-align:center;width:200px;padding:18px 8px;font-size:1.02rem;img{height:48px;border-radius:24px;}@media only screen and (max-width:1000px){font-size:1rem;}}"],(function(e){return e.theme.color.border}));t.Z=r},11253:function(e,t,n){"use strict";var r=n(75054),a=n.n(r),l=n(2784),o=n(68802),u=n(80364),i=n(25291),c=n(27119);t.Z=function(e){var t=e.title,n=e.message,r=e.entries,s=(0,l.useContext)(c.Z),m=s.setModalMessageIsOpen,f=s.modalMessageIsOpen,d=function(){m(!1)};return l.createElement(l.Fragment,null,l.createElement(i.RR,{className:a()({show:f})},l.createElement("i",{onClick:d},l.createElement(o.Lp2,{color:"#000",size:"35px"})),l.createElement("h3",null,t),l.createElement(i.Yr,null,l.createElement("p",null,n),r?l.createElement(l.Fragment,null,l.createElement("p",null," Before remove it, you have to unassign them from"),r.map((function(e){return l.createElement("ol",null,l.createElement("li",null,e))}))):null,l.createElement(u.Z,{type:"button",onClick:d},"Close"))),l.createElement(i.An,{className:a()({show:f})}))}},94453:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(2784),a=n(38777),l=n(68802),o=n(28255),u=n(19362),i=n(36875),c=n(55726),s=n(96608),m=i.default.article.withConfig({displayName:"styles__CustomersMain",componentId:"sc-1k32p4f-0"})(["width:100%;height:calc(100% - 100px);overflow-x:hidden;"]),f=n(28180),d=n(21208),p=(n(21515),n(75054)),h=n.n(p),v=n(80364),E=n(87647),g=n(25291),y=n(27119),x=function(e){var t=e.title,n=e.modalOnSubmit,a=(0,r.useContext)(y.Z),o=a.setModalCustomerIsOpen,u=a.modalCustomerIsOpen,i=(0,r.useState)(!1),c=i[0],s=i[1],m=(0,r.useState)(""),d=(m[0],m[1]),p=(0,r.useState)({name:"",email:"",phone:""}),x=p[0],C=p[1];function b(){d("")}return r.createElement(r.Fragment,null,r.createElement(g.F0,{className:h()({show:u})},r.createElement("i",{onClick:function(){o(!1)}},r.createElement(l.Lp2,{color:"#000",size:"35px"})),r.createElement("h3",null,t),c?"Sending data":r.createElement(g.Yr,null,r.createElement("div",null,r.createElement("label",null,t+" Name"),r.createElement(E.l_,{value:x.name,onChange:function(e){return function(e){var t={name:e.target.value};C(Object.assign({},x,t)),b()}(e)},placeholder:"Enter "+t+" Name"})),r.createElement("div",null,r.createElement("label",null,"Email"),r.createElement(E.l_,{value:x.email,onChange:function(e){return function(e){var t={email:e.target.value};C(Object.assign({},x,t)),b()}(e)},placeholder:"Enter Email"})),r.createElement("div",null,r.createElement("label",null,"Phone"),r.createElement(E.l_,{type:"text",value:x.phone,onChange:function(e){return function(e){var t={phone:e.target.value};C(Object.assign({},x,t)),b()}(e)},placeholder:"Enter Phone"})),r.createElement(v.Z,{type:"button",onClick:function(e){e.preventDefault(),s(!0);var t={customer_full_name:x.name,customer_email:x.email,customer_phone:x.phone};f.Z.createCustomer(t).then((function(){o(!1),n(t)})).catch((function(e){d(e.message)})).finally((function(){s(!1)}))}},"Create Customer"))),r.createElement(g.An,{className:h()({show:u})}))},C=n(11253),b=function(){var e=(0,i.useTheme)(),t=(0,r.useState)([]),n=t[0],p=t[1],h=(0,r.useContext)(y.Z).setModalCustomerIsOpen,E=(0,r.useState)(""),g=E[0],b=E[1],w=(0,r.useContext)(y.Z).setModalMessageIsOpen,_=(0,r.useState)([]),Z=_[0],S=_[1];(0,r.useEffect)((function(){f.Z.getCustomers().then((function(e){return p(e)}))}),[]);var k=function(e,t){var r=Object.assign({},n.find((function(t){return t.id===e})),t);f.Z.updateCustomer(e,r)},N=function(e){var t=e.name,n=e.value;n!==e.previousValue&&k(t,{customer_full_name:n})},O=function(e){var t=e.name,n=e.value;n!==e.previousValue&&k(t,{customer_email:n})},z=function(e){var t=e.name,n=e.value;n!==e.previousValue&&k(t,{customer_phone:n})};return r.createElement(c.Z,{title:"Customers"},r.createElement(d.N,{className:"task-title"},r.createElement("div",null,r.createElement("i",null,r.createElement(l.Jwp,null)),r.createElement("h5",null,"People")),r.createElement(v.Z,{onClick:function(){return h(!0)}},"Add Customer")),r.createElement(m,null,r.createElement(s.Z,null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Email"),r.createElement("th",null,"Contact Number"),r.createElement("th",null))),r.createElement("tbody",null,n.map((function(t){return r.createElement("tr",null,r.createElement("td",null,r.createElement(u.y,{name:t.id,onChange:p,onSave:N,defaultValue:t.customer_full_name,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:e.font.family}})),r.createElement("td",null,r.createElement(u.y,{name:t.id,onChange:p,onSave:O,defaultValue:t.customer_email,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:e.font.family}})),r.createElement("td",null,r.createElement(u.y,{name:t.id,onChange:p,onSave:z,defaultValue:t.customer_phone,style:{textAlign:"center",width:"100%",fontWeight:500,fontSize:"1.08rem",lineHeight:1.35,fontFamily:e.font.family}})),r.createElement("td",null,r.createElement(o.AMf,{size:25,onClick:function(){return e=t.id,void f.Z.deleteCustomer(e).then((function(e){w(!0),423===e.status?(S(e.data.dependencies.entries.map((function(e){return e.project_title}))),b("Can't remove it. There are "+e.data.dependencies.bounded+" depending on it.")):200===e.status&&b("Successfully removed")}));var e},style:{cursor:"pointer"}})))})))),r.createElement(x,{title:"New Customer",description:"Add task details",section:"Customer",modalOnSubmit:function(e){var t=[];t.push.apply(t,(0,a.Z)(n).concat([e])),p(t)}})),r.createElement(C.Z,{title:"message",message:g,entries:Z}))},w=function(){return r.createElement(b,null)}},28180:function(e,t,n){"use strict";var r=n(19388);t.Z={getCustomers:function(){return(0,r.Z)("/api/customers").then((function(e){return e.data}))},getCustomerById:function(e){return(0,r.Z)("/api/customers/detail/"+e).then((function(e){return e.data}))},createCustomer:function(e){return(0,r.Z)("/api/customers/create",{method:"POST",data:e}).then((function(e){return e.data}))},updateCustomer:function(e,t){return(0,r.Z)("/api/customers/update/"+e,{data:t,method:"PUT"}).then((function(e){return e.data}))},deleteCustomer:function(e){return(0,r.Z)("/api/customers/delete/"+e,{method:"DELETE"}).then((function(e){return e}))}}}}]);
//# sourceMappingURL=component---src-pages-customers-js-4e969aaca4d47f018ab1.js.map