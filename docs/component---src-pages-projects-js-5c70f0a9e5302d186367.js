"use strict";(self.webpackChunksyloper_front=self.webpackChunksyloper_front||[]).push([[853],{11253:function(e,t,n){var r=n(75054),o=n.n(r),a=n(2784),i=n(68802),l=n(80364),s=n(25291),c=n(27119);t.Z=function(e){var t=e.title,n=e.message,r=e.entries,d=(0,a.useContext)(c.Z),u=d.setModalMessageIsOpen,m=d.modalMessageIsOpen,p=function(){u(!1)};return a.createElement(a.Fragment,null,a.createElement(s.RR,{className:o()({show:m})},a.createElement("i",{onClick:p},a.createElement(i.Lp2,{color:"#000",size:"35px"})),a.createElement("h3",null,t),a.createElement(s.Yr,null,a.createElement("p",null,n),r?a.createElement(a.Fragment,null,a.createElement("p",null," Before remove it, you have to unassign them from"),r.map((function(e){return a.createElement("ol",null,a.createElement("li",null,e))}))):null,a.createElement(l.Z,{type:"button",onClick:p},"Close"))),a.createElement(s.An,{className:o()({show:m})}))}},32603:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(2784),o=n(38777),a=n(12578),i=n(55726),l=n(28255),s=n(80364),c=n(36875),d=c.default.section.withConfig({displayName:"styles__ProjectsHeaderContainer",componentId:"sc-1681c6d-0"})(["width:100%;display:flex;justify-content:space-between;margin-bottom:35px;@media only screen and (max-width:500px){margin-bottom:15px;}","{width:180px;font-size:1.15rem;@media only screen and (max-width:1270px){width:145px;font-size:1.12rem;}@media only screen and (max-width:768px){width:55px;height:55px;position:absolute;bottom:80px;right:15px;z-index:100;border-radius:50%;box-shadow:",";}}"],s.Z,(function(e){return e.theme.boxShadowB})),u=c.default.div.withConfig({displayName:"styles__Count",componentId:"sc-1681c6d-1"})(["display:flex;justify-content:space-between;align-items:center;width:60%;@media only screen and (max-width:1270px){width:540px;}@media only screen and (max-width:768px){width:100%;}@media only screen and (max-width:500px){flex-wrap:wrap;}"]),m=c.default.div.withConfig({displayName:"styles__CountItem",componentId:"sc-1681c6d-2"})(["@media only screen and (max-width:500px){width:120px;margin-bottom:10px;}p{width:100%;&:first-child{font-size:1.6rem;font-weight:600;margin-bottom:3px;}&:last-child{font-size:1.15rem;color:",";@media only screen and (max-width:650px){font-size:1.04rem;letter-spacing:-.5px;}}}"],(function(e){return e.theme.color.gray600})),p=n(68800),f=n(27119),h=n(73891),x=function(){var e=(0,r.useState)({}),t=e[0],n=e[1],o=(0,p.S)().width,a=(0,r.useContext)(f.Z).setModalIsOpen;return(0,r.useEffect)((function(){h.Z.getUserDashboard().then((function(e){return n(e.globalStatus)}))}),[]),r.createElement(d,null,r.createElement(u,null,r.createElement(m,null,r.createElement("p",null,t.ready_to_start),r.createElement("p",null,"Ready to Start")),r.createElement(m,null,r.createElement("p",null,t.in_progress),r.createElement("p",null,"In Progress")),r.createElement(m,null,r.createElement("p",null,t.completed),r.createElement("p",null,"Completed")),r.createElement(m,null,r.createElement("p",null,t.total_projects),r.createElement("p",null,"Total Projects"))),r.createElement(s.Z,{onClick:function(){return a(!0)}},o<769?r.createElement(l.wEH,{color:"#fff",size:"19"}):"Add Project"))},g=c.default.section.withConfig({displayName:"styles__ProjectsGrid",componentId:"sc-13daduf-0"})(["width:100%;display:grid;grid-template-columns:32% 32% 32%;justify-content:space-between;row-gap:2rem;height:calc(100% - 190px);padding-right:15px;box-sizing:border-box;grid-auto-rows:minmax(320px,330px);@media only screen and (max-width:1270px){grid-template-columns:48% 48%;height:calc(100% - 260px);}@media only screen and (max-width:650px){grid-template-columns:100%;padding:0;height:calc(100% - 214px);}"]),y=n(79844),w=c.default.div.withConfig({displayName:"styles__Footer",componentId:"sc-115xyx8-0"})(["width:100%;display:flex;justify-content:space-between;align-items:center;"]),b=c.default.div.withConfig({displayName:"styles__ProjectCard",componentId:"sc-115xyx8-1"})(["width:100%;background-color:#fff;border-radius:15px;padding:20px;box-sizing:border-box;box-shadow:",";align-content:space-between;flex-direction:column;position:relative;overflow:hidden;"],(function(e){return e.theme.boxShadow})),E=c.default.div.withConfig({displayName:"styles__Title",componentId:"sc-115xyx8-2"})(["width:100%;margin-bottom:30px;h4{font-size:1.12rem;margin-bottom:7px;font-weight:600;}p{font-size:1.1rem;color:",";font-weight:500;}"],(function(e){return e.theme.color.gray500})),_=c.default.div.withConfig({displayName:"styles__DueDate",componentId:"sc-115xyx8-3"})(["width:80%;padding:10px;box-sizing:border-box;background-color:",";text-align:center;font-size:1rem;border-radius:5px;margin-bottom:25px;@media only screen and (max-width:768px){width:100%;}"],(function(e){return e.theme.color.gray100})),j=c.default.div.withConfig({displayName:"styles__Progress",componentId:"sc-115xyx8-4"})(["width:100%;margin-bottom:20px;.bar-container{width:100%;height:5px;border-radius:10px;background-color:",";margin-bottom:8px;span{display:block;width:","%;height:5px;border-radius:10px;background-color:",";}}.info-container{width:100%;display:flex;justify-content:space-between;p{font-size:1rem;font-weight:600;}}"],(function(e){return e.theme.color.gray200}),(function(e){return e.progress}),(function(e){return e.theme.color.lightGreen})),C=c.default.p.withConfig({displayName:"styles__TasksTxt",componentId:"sc-115xyx8-5"})(["color:orange;font-size:1rem;margin-bottom:20px;"]),v=c.default.div.withConfig({displayName:"styles__Users",componentId:"sc-115xyx8-6"})([""]),I=(c.default.span.withConfig({displayName:"styles__UserImg",componentId:"sc-115xyx8-7"})(["width:45px;height:45px;display:inline-block;transform:",";background-color:gray;border:1px solid #fff;border-radius:50%;"],(function(e){return"translateX("+e.translatex+"px)"})),n(79933)),Z=n(92531),k=n(50775),P=n(28180),N=n(50555),S=n(67055),z=function(e){var t=e.customerId,n=e.statusName,o=e.dueDate,a=e.id,i=e.title,l=e.deleteProject,s=(0,r.useState)({}),c=s[0],d=s[1],u=(0,r.useState)({}),m=u[0],p=u[1];(0,r.useEffect)((function(){P.Z.getCustomerById(t).then((function(e){d(e)})),h.Z.getProject(a).then((function(e){p(e)}))}),[]);var f=(0,r.useState)(!1),x=f[0],g=f[1],z=function(){g(!x)};return r.createElement(b,{key:a},r.createElement(Z.Z,{handleClickMenu:z,setIsOpenMenu:g}),r.createElement(y.rU,{to:"/project-detail/?id="+a},r.createElement(E,null,r.createElement("h4",null,i),r.createElement("p",null,"Customer: ",c.customer_full_name)),r.createElement(_,null,"Due Date: ",(0,I.v)(o)),r.createElement(j,{progress:m.progress||0},r.createElement("div",{className:"bar-container"},r.createElement("span",null)),r.createElement("div",{className:"info-container"},r.createElement("p",null,n),r.createElement("p",null,m.progress,"%"))),r.createElement(w,null,r.createElement(C,null,m.tasks_left||0," Tasks left"),r.createElement(N.Z,{status:m.project_status||"Ready to Start"}),r.createElement(v,null,m.responsibles&&m.responsibles.map((function(e,t){return r.createElement(S.Z,{key:t,translatex:(n=t,"-"+2*n*10),responsible:e,name:!1});var n}))))),r.createElement(k.Z,{handleClickMenu:z,deleteCard:function(){return l(a)},isOpenMenu:x}))},D=function(e){var t=e.isLoading,n=e.projectsData,o=e.deleteProject;return r.createElement(g,null,t?r.createElement("div",null,"Loading..."):r.createElement(r.Fragment,null,n.map((function(e){return r.createElement(z,{status:e.contextStatus,customerId:e.customer_id,title:e.project_title,description:e.project_description,responsableId:e.project_responsable,dueDate:e.project_due_date,id:e.id,responsibles:e.responsibles,taskLeft:e.taskLeft,deleteProject:function(){return o(e.id)}})}))))},M=n(38484),O=n(11253),L=function(){var e=(0,r.useContext)(f.Z).setModalIsOpen,t=(0,r.useContext)(f.Z).setModalMessageIsOpen,n=(0,r.useState)(!0),l=n[0],s=n[1],c=(0,r.useState)(""),d=c[0],u=c[1],m=(0,r.useState)([]),p=m[0],h=m[1],g=(0,r.useState)([]),y=g[0],w=g[1];(0,r.useEffect)((function(){M.Z.getProjects().then((function(e){w(e),s(!1)}))}),[]);return r.createElement(i.Z,{title:"Projects"},r.createElement(x,null),r.createElement("p",null,d),r.createElement(D,{isLoading:l,projectsData:y,deleteProject:function(e){M.Z.deleteProject(e).then((function(n){200===n.status?(u("Successfully removed"),t(!0),w(y.filter((function(t){return t.id!==e})))):423===n.status&&(h(n.data.dependencies.entries.map((function(e){return e.title}))),u("Can't remove it. There are "+n.data.dependencies.bounded+" depending on it."),t(!0))}))}}),r.createElement(O.Z,{title:"Message",message:d,entries:p}),r.createElement(a.Z,{title:"New Project",description:"Add project details",section:"Project",modalOnSubmit:function(t){var n={project_date:Date.now(),project_due_date:t.dueDate,project_title:t.title,project_description:t.description,customer_id:t.customerId,project_responsable:t.responsibleId};M.Z.createProject(n).then((function(){var t=[];t.push.apply(t,(0,o.Z)(y).concat([n])),w(t),e(!1)}))}}))},T=function(){return r.createElement(L,null)}},73891:function(e,t,n){var r=n(19388);t.Z={getProject:function(e){return(0,r.Z)("/api/bff/project-detail/"+e).then((function(e){return e.data}))},getUserDashboard:function(){return(0,r.Z)("/api/bff/user-dashboard").then((function(e){return e.data}))},getEmployeesRanking:function(){return(0,r.Z)("/api/bff/ranking").then((function(e){return e.data}))},getPortfolio:function(){return(0,r.Z)("/api/bff/portfolio").then((function(e){return e.data}))}}}}]);
//# sourceMappingURL=component---src-pages-projects-js-5c70f0a9e5302d186367.js.map